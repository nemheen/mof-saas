:root{
  --bg:#0b0c10;
  --panel:#13151a;
  --panel-2:#171a20;
  --muted:#9aa3af;
  --text:#f3f4f6;
  --accent:#4caf50;
  --accent-2:#3b82f6;
  --border:#262a33;
  --card:#111318;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  font-family:Inter, ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--text);
  background:linear-gradient(180deg,#0b0c10,#0e1116 40%,#0b0c10);
}
button{cursor:pointer}

/* -------- Shell / Layout -------- */
.shell{display:flex;flex-direction:column;min-height:100vh}

/* Topbar */
.topbar{
  height:56px; display:flex; align-items:center; padding:0 16px;
  border-bottom:1px solid var(--border);
  background:rgba(19,21,26,.8); backdrop-filter:blur(6px);
  position:sticky; top:0; z-index:50;
}
.brand{display:flex; align-items:center; gap:10px; font-weight:700}
.icon-btn{
  background:transparent; border:1px solid var(--border);
  color:var(--text); border-radius:8px; padding:6px 10px;
}
.top-actions{margin-left:auto; display:flex; gap:8px}
.ghost{
  background:transparent; border:1px solid var(--border);
  color:var(--text); padding:8px 12px; border-radius:8px;
}
.primary{background:var(--accent); border:0; color:#fff; padding:8px 12px; border-radius:8px}
.secondary{background:var(--accent-2); border:0; color:#fff; padding:8px 12px; border-radius:8px}

/* Body grid */
.body{display:grid; grid-template-columns:auto 1fr auto; min-height:calc(100vh - 56px)}

/* -------- Left Sidebar (draggable) -------- */
.sidebar{
  background:var(--panel); border-right:1px solid var(--border);
  position:relative; transition:width .15s ease; overflow:hidden;
}
.sidebar.closed{width:64px !important}
nav{padding:12px}
.section-title{font-size:12px; color:var(--muted); text-transform:uppercase; margin:8px 8px 6px}
.nav-item{
  display:block; width:100%; text-align:left;
  background:transparent; border:0; color:var(--text);
  padding:10px 12px; border-radius:8px; margin-bottom:6px;
}
.nav-item:hover{background:var(--panel-2)}
.nav-item.active{background:#1b1e26; border:1px solid var(--border)}
.divider{height:1px; background:var(--border); margin:12px 8px}
.drag-handle{
  position:absolute; right:-4px; top:0; width:8px; height:100%;
  cursor:col-resize; background:transparent;
}

/* -------- Center Content -------- */
.content{padding:20px; max-width:1200px; margin:0 auto; width:100%}
.hero h1{margin:8px 0 4px}
.sub{color:var(--muted)}

.card{
  background:var(--card); border:1px solid var(--border);
  border-radius:14px; margin:16px 0; box-shadow:0 10px 30px rgba(0,0,0,.2);
}
.card-head{
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 16px; border-bottom:1px solid var(--border);
}
.row{display:flex; align-items:center}
.gap{gap:10px}
.file{
  position:relative; display:inline-flex; align-items:center; gap:8px;
  background:#0f1217; border:1px dashed var(--border);
  padding:8px 12px; border-radius:10px; color:var(--muted);
}
.file input{position:absolute; inset:0; opacity:0; cursor:pointer}

.alert{margin:12px 16px; padding:12px; border-radius:8px}
.alert.error{background:#2b1a1a; border:1px solid #5a2b2b; color:#ffb4b4}

.grid.two{display:grid; grid-template-columns:1fr 1fr; gap:16px; padding:16px}
.panel{background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:16px}

.table-wrap{overflow:auto; max-height:380px; border-radius:8px; border:1px solid var(--border)}
table{width:100%; border-collapse:collapse}
th,td{padding:10px; border-bottom:1px solid var(--border); text-align:left}

.plot-img{max-width:100%; border-radius:10px; border:1px solid var(--border)}

/* -------- Right Info Panel -------- */
.rightbar{
  width:340px; background:var(--panel); border-left:1px solid var(--border);
  transition:transform .2s ease;
}
.rightbar.closed{transform:translateX(100%)}
.rightbar-head{
  display:flex; justify-content:space-between; align-items:center;
  padding:12px 14px; border-bottom:1px solid var(--border);
}
.rightbar-body{padding:12px}
.stat-list{list-style:none; margin:0; padding:0}
.stat-list li{padding:6px 0; border-bottom:1px dashed var(--border)}
.chip-row{display:flex; flex-wrap:wrap; gap:8px}
.chip{
  background:#0f1217; border:1px solid var(--border);
  padding:6px 10px; border-radius:999px; color:var(--text);
}

/* -------- Generic -------- */
pre.pre{
  white-space:pre-wrap; word-break:break-word; background:#0f1217;
  border:1px solid var(--border); border-radius:10px; padding:12px;
  max-height:360px; overflow:auto;
}

/* -------- Responsive -------- */
@media (max-width: 1100px){
  .grid.two{grid-template-columns:1fr}
  .rightbar{display:none}
}
